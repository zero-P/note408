## 物理层

<u>**最大信息传输速率的计算**</u>

奈奎斯特定理：$2W\log_2V$（规定波特率上限为 2W）

香农定理：$Wlog_2(1+S/N)$

采样定理：$f_{采样}\log_2V \ge 2f_{max}\log_2V$

能算出来的都算出来，取最小的

V 的形式：题目直接给出、QAW 调制技术（V = 相位数 m × 每个相位的振幅数 n）、二进制信号（V = 2）

采样率理解为实际的码元传输速率/波特率。

S/N 是真正意义上的信噪比，没有单位，香农定理中的信噪比就是它；S/N 数值可能很大，故有时取 10$\log_{10}{S/N}$ 作为信噪比，单位 db。

## 数据链路层

### 流量控制与可靠传输协议

**<u>计算题解题关键</u>**

发送周期 T = 发送方传输时延 + 2 × 传播时延 +（接收方传输时延）

<div align=left><img src="https://pic-zerooo.oss-cn-beijing.aliyuncs.com/ungee/image-20231110162020261.png" width="500px"/></dev>

停-等最简单，一个发送周期只发送一次数据帧

GBN 在一个发送周期内，可以一个接一个发送数据帧，直到发送窗口没有可发送的数据帧，用发送数据帧总共花费的传输时延除以发送周期即为信道利用率；若一个发送周期内发送窗口内的数据帧发不完，可实现帧的连续流动，信道利用率达到 100%

SR 可套用 GBN

## 传输层

<u>**发送方还可发送的最大数据量**</u>

<div align=left><img src="https://pic-zerooo.oss-cn-beijing.aliyuncs.com/ungee/image-20230831225244928.png" width="450px"/></dev>

根据题目可以得出已发送但未得到确认的数据量时，发送方可发送的数据只能是发送窗口内尚未发送的数据；若得不出，则默认为整个发送窗口。

**<u>拥塞控制相关计算</u>**

<div align=left><img src="https://pic-zerooo.oss-cn-beijing.aliyuncs.com/ungee/image-20241111204954185.png" width="700px"/></dev>

上图是为了体现传输轮次和拥塞窗口大小的关系，一个传输轮次等于一个 RTT，而非一个时刻，所以上图改成柱形图会更好理解。

一个传输轮次内的拥塞窗口大小是不变的，其值是在本轮次刚开始或上一个轮次结束时确定的。

一个传输轮次的结束，意味着，本轮次拥塞窗口（发送窗口）内的所有报文已全部发送出去，并且均已收到接收方的确认。

经历了 $n$ 个传输轮次（RTT）后，问此时拥塞窗口的大小，等价于问第 $n+1$ 个传输轮次的拥塞窗口大小。

问拥塞窗口多久第一次达到某个特定值为 $x$ 时，假设第 $n$ 个 RTT 拥塞窗口第一次达到 $x$，那么就是经历 $n-1$ 个传输轮次。

当 TCP 最大段长 MSS 大小不为 1KB 或 1000KB 时，计算要特别小心，特别是加法增大阶段（王道 P244 T32）。

## 应用层

### DNS

本地域名服务器只提供递归查询服务，其他域名服务器均只提供迭代查询服务，则访问 www.zerooop.top，本地域名服务器在完成该域名解析的过程中，可能发出的 DNS 查询次数最少为 0，最多为 3（根域名服务器、dns.top 顶级域名服务器、dns.zerooop.top 权限域名服务器）。

可简记为本地域名服务器在以迭代方式发出 DNS 查询的最多次数等于域名标号的个数。

### HTTP

HTTP/1.1 默认使用持续连接 + 流水线方式。

需要算第一个 RTT（前两次握手）：从单击一个万维网文档开始、从请求与服务器建立 TCP 连接开始。

不需要算第一个 RTT（TCP 连接已建立，从第三次握手开始）：从发出第一个 Web 请求开始、从发出 HTTP 请求报文开始。

## 汇总

**<u>PDU 的检验</u>**

标准以太网帧：帧末尾 4B FCS 检验码字段，使用 CRC 检验，范围从目的地址段到数据段末尾（即不检验前导码）。

802.1Q 帧：插入 VID 后 FCS 必须重新计算。

PPP 帧：帧尾部（帧结束定界符前）2B FCS 检验码字段，使用 CRC 检验，范围从地址字段到信息字段末尾。

IPv4 分组：16 位首部检验和字段，16 位字求和（回卷）反码，只检验 IP 数据报的首部。

UDP 数据报：16 位检验和字段，16 位字求和（回卷）反码，检验 UDP 数据报的首部 + 数据部分（+ 伪首部）。

**<u>最大长度</u>**

+ 最大报文段长度 MSS

  TCP 报文段中的数据字段的最大长度。

  默认 536B。

+ 最大传送单元 MTU

  链路层数据帧中的数据字段的最大长度。

  以太网 MAC 帧 1500B、PPP 帧 1500B、802.11 局域网 MAC 帧 2312B、许多广域网 MTU 不超过 576B。